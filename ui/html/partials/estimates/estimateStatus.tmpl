{{ define "statusBar" }}
    {{ $status := .Estimate.Status.String }}


    <div class="status-container">
        <div
            class="status-step {{ if ne $status "Draft" }}
                completed
            {{ else if eq $status "Draft" }}
                current
            {{ end }}"
        >
            <div class="status-counter">1</div>
            <div class="status-name">Draft</div>
        </div>
        <div
            class="status-step {{ if or (eq $status "Awaiting Contractor Agreement") (eq $status "In Progress") (eq $status "Completed") }}
                completed
            {{ else if eq $status "Awaiting Customer Payment" }}
                current
            {{ end }}"
        >
            <div class="status-counter">2</div>
            <div class="status-name">Awaiting Customer</div>
        </div>
        <div
            class="status-step {{ if or (eq $status "In Progress") (eq $status "Completed") }}
                completed
            {{ else if eq $status "Awaiting Contractor Agreement" }}
                current
            {{ end }}"
        >
            <div class="status-counter">3</div>
            <div class="status-name">Awaiting Contractor</div>
        </div>
        <div
            class="status-step {{ if eq $status "Completed" }}
                completed
            {{ else if eq $status "In Progress" }}
                current
            {{ end }}"
        >
            <div class="status-counter">4</div>
            <div class="status-name">In Progress</div>
        </div>
        <div
            class="status-step {{ if eq $status "Completed" }}current{{ end }}"
        >
            <div class="status-counter">5</div>
            <div class="status-name">Completed</div>
        </div>
    </div>
{{ end }}
