{{ define "header-tags" }}
    <link rel="stylesheet" href="/static/css/main.css" />
    <link rel="stylesheet" href="/static/css/estimates/list-estimate.css" />
{{ end }}

{{ define "script-tags" }}{{ end }}

{{ define "content" }}
    <div class="main-section">
        <div class="invoice-wrapper">
            <div class="invoice-box">
                <div class="invoice-header">
                    <div class="invoice-title">
                        <h2>Estimates</h2>
                    </div>

                    <div class="invoice-customer">
                        <p>A list of all estimates in the system.</p>
                    </div>
                </div>

                <table class="invoice-table estimate-list-table">
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>Customer</th>
                            <th>Address</th>
                            <th>Status</th>
                            <th></th>
                        </tr>
                    </thead>

                    <tbody>
                        {{ range .EstimateList }}
                            <tr>
                                <td>#{{ .EstimateID }}</td>

                                <td>
                                    {{ .CustomerName }}
                                </td>

                                <td>
                                    {{ .Street }}, {{ .City }},
                                    {{ .State }}
                                </td>

                                <td>
                                    <span
                                        class="estimate-status status-{{ .Status.String }}"
                                    >
                                        {{ .Status.String }}
                                    </span>
                                </td>

                                <td class="text-right">
                                    <a
                                        href="/estimate/view/{{ .EstimateID }}"
                                        class="view-btn"
                                        >View
                                    </a>
                                </td>
                            </tr>
                        {{ else }}
                            <tr>
                                <td colspan="6" class="empty-state">
                                    No estimates found.
                                </td>
                            </tr>
                        {{ end }}
                    </tbody>
                </table>
            </div>
        </div>
    </div>
{{ end }}
